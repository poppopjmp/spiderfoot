# =============================================================================
# SpiderFoot Simple — Environment Configuration
# =============================================================================
# For use with docker-compose-simple.yml (6-container deployment).
#
#   cp docker/env.simple.example .env
#   docker compose -f docker-compose-simple.yml up --build -d
# =============================================================================

# ---------------------------------------------------------------------------
# PostgreSQL
# ---------------------------------------------------------------------------
POSTGRES_DB=spiderfoot
POSTGRES_USER=spiderfoot
POSTGRES_PASSWORD=changeme

# ---------------------------------------------------------------------------
# SpiderFoot API
# ---------------------------------------------------------------------------
SF_API_WORKERS=2
SF_API_KEY=                     # Optional API auth key
SF_LOG_LEVEL=INFO               # DEBUG | INFO | WARNING | ERROR

# ---------------------------------------------------------------------------
# Auth / Admin
# ---------------------------------------------------------------------------
SF_JWT_SECRET=simple-dev-secret-change-in-production
SF_AUTH_REQUIRED=true
SF_RBAC_ENFORCE=false
SF_ADMIN_USERNAME=admin
SF_ADMIN_PASSWORD=spiderfoot
SF_ADMIN_EMAIL=admin@spiderfoot.local

# ---------------------------------------------------------------------------
# Celery Workers
# ---------------------------------------------------------------------------
CELERY_WORKER_CONCURRENCY=4           # General worker (reports, exports, etc.)
CELERY_ACTIVE_WORKER_CONCURRENCY=2    # Active scan worker (CPU/network-heavy)

# ---------------------------------------------------------------------------
# Ports (host-side)
# ---------------------------------------------------------------------------
SF_WEB_PORT=3000                # Web UI → http://localhost:3000
SF_API_PORT=8001                # API direct → http://localhost:8001

# ---------------------------------------------------------------------------
# Resource note: This stack needs ~2.5 GB RAM minimum.
#   - PostgreSQL         ~128 MB
#   - Redis              ~64 MB
#   - API                ~512 MB
#   - Celery (general)   ~512 MB
#   - Celery (active)    ~1024 MB
#   - Frontend           ~32 MB
# ---------------------------------------------------------------------------
