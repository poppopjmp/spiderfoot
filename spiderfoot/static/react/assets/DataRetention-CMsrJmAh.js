import{u as c,j as e,P as r,v as d,x,T as m,y as h,e as o,z as j,H as i}from"./index-CDiyCJR4.js";function N(){const{data:t}=c({queryKey:["retention-rules"],queryFn:i.listRules}),{data:a}=c({queryKey:["retention-stats"],queryFn:i.stats}),l=(t==null?void 0:t.rules)??[],n=s=>{switch(s){case"delete":return"badge-critical";case"archive":return"badge-medium";case"export_then_delete":return"badge-high";default:return"badge-info"}};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Data Retention"}),e.jsxs("button",{className:"btn-primary flex items-center gap-2",children:[e.jsx(r,{className:"h-4 w-4"})," Create Rule"]})]}),a&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"card flex items-center gap-3",children:[e.jsx(d,{className:"h-5 w-5 text-spider-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-dark-400",children:"Total Rules"}),e.jsx("p",{className:"text-xl font-bold text-white",children:a.total_rules??l.length})]})]}),e.jsxs("div",{className:"card flex items-center gap-3",children:[e.jsx(x,{className:"h-5 w-5 text-blue-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-dark-400",children:"Last Enforced"}),e.jsx("p",{className:"text-xl font-bold text-white",children:a.last_enforced??"Never"})]})]}),e.jsxs("div",{className:"card flex items-center gap-3",children:[e.jsx(m,{className:"h-5 w-5 text-red-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-dark-400",children:"Resources Cleaned"}),e.jsx("p",{className:"text-xl font-bold text-white",children:a.total_cleaned??0})]})]}),e.jsxs("div",{className:"card flex items-center gap-3",children:[e.jsx(h,{className:"h-5 w-5 text-green-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-dark-400",children:"Space Freed"}),e.jsx("p",{className:"text-xl font-bold text-white",children:a.space_freed??"0 MB"})]})]})]}),e.jsx("div",{className:"space-y-3",children:l.map(s=>e.jsxs("div",{className:"card flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-2 rounded-lg ${s.enabled?"bg-spider-600/20":"bg-dark-700"}`,children:e.jsx(d,{className:`h-5 w-5 ${s.enabled?"text-spider-400":"text-dark-500"}`})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-white",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:"badge badge-info",children:s.resource_type}),e.jsxs("span",{className:"badge badge-low",children:[s.criteria_type,": ",s.criteria_value]}),e.jsx("span",{className:`badge ${n(s.action)}`,children:s.action})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"text-spider-400 hover:text-spider-300",title:"Preview",children:e.jsx(o,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-green-400 hover:text-green-300",title:"Enforce now",children:e.jsx(j,{className:"h-4 w-4"})}),e.jsx("span",{className:`badge ${s.enabled?"badge-success":"badge-info"}`,children:s.enabled?"Active":"Disabled"})]})]},s.id))})]})}export{N as default};
//# sourceMappingURL=DataRetention-CMsrJmAh.js.map
