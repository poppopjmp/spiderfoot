import{r as p,u as l,j as e,P as N,S as o,K as b,L as h,T as v,O as c}from"./index-B5cGgTTj.js";import{U as j}from"./users-B0rjaC9Y.js";function f(){const[a,n]=p.useState("providers"),{data:d}=l({queryKey:["sso-providers"],queryFn:c.listProviders}),{data:i}=l({queryKey:["sso-sessions"],queryFn:c.sessions}),{data:t}=l({queryKey:["sso-stats"],queryFn:c.stats}),x=(d==null?void 0:d.providers)??[],r=(i==null?void 0:i.sessions)??[];return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Single Sign-On (SSO)"}),e.jsxs("button",{className:"btn-primary flex items-center gap-2",children:[e.jsx(N,{className:"h-4 w-4"})," Add Provider"]})]}),t&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"card flex items-center gap-3",children:[e.jsx(o,{className:"h-5 w-5 text-spider-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-dark-400",children:"Providers"}),e.jsx("p",{className:"text-xl font-bold text-white",children:t.total_providers??x.length})]})]}),e.jsxs("div",{className:"card flex items-center gap-3",children:[e.jsx(j,{className:"h-5 w-5 text-blue-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-dark-400",children:"Active Sessions"}),e.jsx("p",{className:"text-xl font-bold text-white",children:t.active_sessions??r.length})]})]}),e.jsxs("div",{className:"card flex items-center gap-3",children:[e.jsx(b,{className:"h-5 w-5 text-green-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-dark-400",children:"JIT Provisioned"}),e.jsx("p",{className:"text-xl font-bold text-white",children:t.jit_provisioned??0})]})]}),e.jsxs("div",{className:"card flex items-center gap-3",children:[e.jsx(h,{className:"h-5 w-5 text-purple-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-dark-400",children:"SSO Logins (24h)"}),e.jsx("p",{className:"text-xl font-bold text-white",children:t.logins_24h??0})]})]})]}),e.jsxs("div",{className:"flex gap-1 mb-6 bg-dark-800 rounded-lg p-1 w-fit",children:[e.jsxs("button",{onClick:()=>n("providers"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors ${a==="providers"?"bg-spider-600 text-white":"text-dark-300 hover:text-white hover:bg-dark-700"}`,children:[e.jsx(o,{className:"h-4 w-4"})," Identity Providers"]}),e.jsxs("button",{onClick:()=>n("sessions"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors ${a==="sessions"?"bg-spider-600 text-white":"text-dark-300 hover:text-white hover:bg-dark-700"}`,children:[e.jsx(j,{className:"h-4 w-4"})," Sessions"]})]}),a==="providers"&&e.jsx("div",{className:"space-y-3",children:x.map(s=>e.jsxs("div",{className:"card flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-2 rounded-lg ${s.enabled?"bg-green-600/20":"bg-dark-700"}`,children:e.jsx(h,{className:`h-5 w-5 ${s.enabled?"text-green-400":"text-dark-500"}`})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-white",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:"badge badge-info uppercase",children:s.protocol}),e.jsx("span",{className:"text-xs text-dark-400 font-mono",children:s.entity_id})]}),s.allowed_domains&&s.allowed_domains.length>0&&e.jsx("div",{className:"flex gap-1 mt-1",children:s.allowed_domains.map(m=>e.jsx("span",{className:"badge badge-low text-xs",children:m},m))})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"text-red-400 hover:text-red-300",children:e.jsx(v,{className:"h-4 w-4"})}),e.jsx("span",{className:`badge ${s.enabled?"badge-success":"badge-info"}`,children:s.enabled?"Active":"Disabled"})]})]},s.id))}),a==="sessions"&&e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Active SSO Sessions"}),r.length>0?e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left text-dark-400 border-b border-dark-700",children:[e.jsx("th",{className:"pb-3 font-medium",children:"User"}),e.jsx("th",{className:"pb-3 font-medium",children:"Provider"}),e.jsx("th",{className:"pb-3 font-medium",children:"Created"}),e.jsx("th",{className:"pb-3 font-medium",children:"Expires"}),e.jsx("th",{className:"pb-3 font-medium",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-dark-700",children:r.map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"py-3 text-white",children:s.user}),e.jsx("td",{className:"py-3 text-dark-300",children:s.provider}),e.jsx("td",{className:"py-3 text-dark-400",children:s.created_at}),e.jsx("td",{className:"py-3 text-dark-400",children:s.expires_at}),e.jsx("td",{className:"py-3",children:e.jsx("button",{className:"text-red-400 text-sm hover:underline",children:"Revoke"})})]},s.id))})]}):e.jsx("p",{className:"text-dark-400",children:"No active SSO sessions."})]})]})}export{f as default};
//# sourceMappingURL=SSO-DWlbsTeh.js.map
