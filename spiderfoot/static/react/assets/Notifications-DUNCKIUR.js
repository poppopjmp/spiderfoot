import{c as x,r as b,u as c,j as e,P as u,B as o,f as y,Z as N,o as d}from"./index-CDiyCJR4.js";/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=x("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=x("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=x("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);function q(){const[t,g]=b.useState("rules"),{data:n}=c({queryKey:["notification-rules"],queryFn:d.listRules}),{data:r}=c({queryKey:["notification-history"],queryFn:()=>d.history({limit:50})}),{data:a}=c({queryKey:["notification-stats"],queryFn:d.stats}),{data:i}=c({queryKey:["notification-channels"],queryFn:d.channels}),p=(n==null?void 0:n.rules)??[],m=(r==null?void 0:r.history)??[],h=s=>{switch(s){case"email":return e.jsx(v,{className:"h-4 w-4"});case"slack":case"discord":case"teams":return e.jsx(k,{className:"h-4 w-4"});default:return e.jsx(N,{className:"h-4 w-4"})}};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Notification Rules"}),e.jsxs("button",{className:"btn-primary flex items-center gap-2",children:[e.jsx(u,{className:"h-4 w-4"})," Create Rule"]})]}),e.jsx("div",{className:"flex gap-1 mb-6 bg-dark-800 rounded-lg p-1 w-fit",children:[{key:"rules",label:"Rules",icon:o},{key:"history",label:"History",icon:f},{key:"stats",label:"Analytics",icon:y}].map(s=>e.jsxs("button",{onClick:()=>g(s.key),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors ${t===s.key?"bg-spider-600 text-white":"text-dark-300 hover:text-white hover:bg-dark-700"}`,children:[e.jsx(s.icon,{className:"h-4 w-4"})," ",s.label]},s.key))}),t==="rules"&&e.jsxs("div",{className:"space-y-3",children:[p.map(s=>e.jsxs("div",{className:"card flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-2 rounded-lg ${s.enabled?"bg-green-600/20":"bg-dark-700"}`,children:e.jsx(o,{className:`h-5 w-5 ${s.enabled?"text-green-400":"text-dark-500"}`})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-white",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:`badge ${s.severity==="critical"?"badge-critical":s.severity==="high"?"badge-high":s.severity==="medium"?"badge-medium":"badge-low"}`,children:s.severity}),s.channels.map((l,j)=>e.jsxs("span",{className:"badge badge-info flex items-center gap-1",children:[h(l.type)," ",l.type]},j))]})]})]}),e.jsx("span",{className:`badge ${s.enabled?"badge-success":"badge-info"}`,children:s.enabled?"Active":"Disabled"})]},s.id)),(i==null?void 0:i.channels)&&e.jsxs("div",{className:"card mt-6",children:[e.jsx("h3",{className:"text-white font-semibold mb-3",children:"Available Channels"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:i.channels.map(s=>e.jsx("span",{className:"badge badge-info",children:s.name},s.name))})]})]}),t==="history"&&e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Recent Notifications"}),m.length>0?e.jsx("div",{className:"space-y-2",children:m.map((s,l)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-700/50 rounded-lg text-sm",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[h(s.channel),e.jsx("span",{className:"text-white",children:s.rule_name}),e.jsx("span",{className:`badge ${s.severity==="critical"?"badge-critical":s.severity==="high"?"badge-high":"badge-info"}`,children:s.severity})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`badge ${s.delivered?"badge-success":"badge-critical"}`,children:s.delivered?"Delivered":"Failed"}),e.jsx("span",{className:"text-dark-500 text-xs",children:s.timestamp})]})]},s.id||l))}):e.jsx("p",{className:"text-dark-400",children:"No notification history yet."})]}),t==="stats"&&a&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"card",children:[e.jsx("p",{className:"text-sm text-dark-400",children:"Total Rules"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:a.total_rules??0})]}),e.jsxs("div",{className:"card",children:[e.jsx("p",{className:"text-sm text-dark-400",children:"Notifications Sent"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:a.total_notifications??0})]}),e.jsxs("div",{className:"card",children:[e.jsx("p",{className:"text-sm text-dark-400",children:"Active Rules"}),e.jsx("p",{className:"text-2xl font-bold text-green-400",children:a.active_rules??0})]}),e.jsxs("div",{className:"card",children:[e.jsx("p",{className:"text-sm text-dark-400",children:"Rate Limited"}),e.jsx("p",{className:"text-2xl font-bold text-orange-400",children:a.rate_limited??0})]})]})]})}export{q as default};
//# sourceMappingURL=Notifications-DUNCKIUR.js.map
