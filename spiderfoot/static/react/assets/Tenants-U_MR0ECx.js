import{c as p,b as N,r as d,u as x,d as b,j as e,P as g,O as m,Q as f,T as v,R as c}from"./index-OVAqLjZg.js";import{U as y}from"./users-DswNDlY6.js";/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=p("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);function _(){const h=N(),[o,n]=d.useState(!1),[t,l]=d.useState({name:"",plan:"free",max_users:5,max_scans:10}),{data:r}=x({queryKey:["tenants"],queryFn:c.list}),{data:a}=x({queryKey:["tenant-stats"],queryFn:c.stats}),u=b({mutationFn:c.create,onSuccess:()=>{h.invalidateQueries({queryKey:["tenants"]}),n(!1)}}),i=(r==null?void 0:r.tenants)??[],j=s=>{switch(s){case"enterprise":return"badge-critical";case"professional":return"badge-high";case"starter":return"badge-medium";default:return"badge-info"}};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Tenant Management"}),e.jsxs("button",{className:"btn-primary flex items-center gap-2",onClick:()=>n(!0),children:[e.jsx(g,{className:"h-4 w-4"})," New Tenant"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"card flex items-center gap-3",children:[e.jsx(m,{className:"h-5 w-5 text-spider-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-dark-400",children:"Total Tenants"}),e.jsx("p",{className:"text-xl font-bold text-white",children:(a==null?void 0:a.total_tenants)??i.length})]})]}),e.jsxs("div",{className:"card flex items-center gap-3",children:[e.jsx(y,{className:"h-5 w-5 text-blue-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-dark-400",children:"Total Users"}),e.jsx("p",{className:"text-xl font-bold text-white",children:(a==null?void 0:a.total_users)??0})]})]}),e.jsxs("div",{className:"card flex items-center gap-3",children:[e.jsx(w,{className:"h-5 w-5 text-green-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-dark-400",children:"Paid Tenants"}),e.jsx("p",{className:"text-xl font-bold text-white",children:(a==null?void 0:a.paid_tenants)??0})]})]}),e.jsxs("div",{className:"card flex items-center gap-3",children:[e.jsx(f,{className:"h-5 w-5 text-purple-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-dark-400",children:"Active Scans"}),e.jsx("p",{className:"text-xl font-bold text-white",children:(a==null?void 0:a.active_scans)??0})]})]})]}),o&&e.jsxs("div",{className:"card mb-6 border border-spider-600",children:[e.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Create Tenant"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-dark-300 mb-1",children:"Tenant Name"}),e.jsx("input",{className:"input-field w-full",value:t.name,onChange:s=>l({...t,name:s.target.value}),placeholder:"Acme Corp"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-dark-300 mb-1",children:"Plan"}),e.jsx("select",{className:"input-field w-full",value:t.plan,onChange:s=>l({...t,plan:s.target.value}),children:["free","starter","professional","enterprise"].map(s=>e.jsx("option",{value:s,children:s.charAt(0).toUpperCase()+s.slice(1)},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-dark-300 mb-1",children:"Max Users"}),e.jsx("input",{className:"input-field w-full",type:"number",value:t.max_users,onChange:s=>l({...t,max_users:+s.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-dark-300 mb-1",children:"Max Scans"}),e.jsx("input",{className:"input-field w-full",type:"number",value:t.max_scans,onChange:s=>l({...t,max_scans:+s.target.value})})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[e.jsx("button",{className:"btn-secondary",onClick:()=>n(!1),children:"Cancel"}),e.jsx("button",{className:"btn-primary",onClick:()=>u.mutate(t),disabled:!t.name,children:"Create"})]})]}),e.jsx("div",{className:"space-y-3",children:i.map(s=>e.jsxs("div",{className:"card flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2 rounded-lg bg-spider-600/20",children:e.jsx(m,{className:"h-5 w-5 text-spider-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-white",children:s.name}),e.jsxs("div",{className:"flex items-center gap-3 mt-1 text-sm text-dark-400",children:[e.jsx("span",{className:`badge ${j(s.plan)}`,children:s.plan}),e.jsxs("span",{children:[s.user_count,"/",s.max_users," users"]}),e.jsxs("span",{children:[s.scan_count,"/",s.max_scans," scans"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"text-red-400 hover:text-red-300",children:e.jsx(v,{className:"h-4 w-4"})}),e.jsx("span",{className:`badge ${s.status==="active"?"badge-success":"badge-medium"}`,children:s.status})]})]},s.id))})]})}export{_ as default};
//# sourceMappingURL=Tenants-U_MR0ECx.js.map
