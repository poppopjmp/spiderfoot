import{c as x,r as h,u as l,j as e,S as n,L as p,a as d}from"./index-CDiyCJR4.js";import{U as b}from"./users-D0aV7DS_.js";/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=x("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);function N(){const[a,m]=h.useState("roles"),{data:t}=l({queryKey:["rbac-roles"],queryFn:d.listRoles}),{data:i}=l({queryKey:["rbac-perms"],queryFn:d.listPermissions}),{data:r}=l({queryKey:["rbac-users"],queryFn:d.listUsers}),o=[{key:"roles",label:"Roles",icon:n},{key:"users",label:"Users",icon:b},{key:"permissions",label:"Permissions",icon:p}];return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Access Control (RBAC)"}),e.jsxs("button",{className:"btn-primary flex items-center gap-2",children:[e.jsx(j,{className:"h-4 w-4"})," Create Role"]})]}),e.jsx("div",{className:"flex gap-1 mb-6 bg-dark-800 rounded-lg p-1 w-fit",children:o.map(s=>e.jsxs("button",{onClick:()=>m(s.key),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors ${a===s.key?"bg-spider-600 text-white":"text-dark-300 hover:text-white hover:bg-dark-700"}`,children:[e.jsx(s.icon,{className:"h-4 w-4"}),s.label]},s.key))}),a==="roles"&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:((t==null?void 0:t.roles)??[]).map(s=>{var c;return e.jsxs("div",{className:"card hover:border-spider-600 border border-transparent transition",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-spider-600/20 rounded-lg",children:e.jsx(n,{className:"h-5 w-5 text-spider-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-white capitalize",children:s.name}),e.jsxs("p",{className:"text-xs text-dark-400",children:[((c=s.permissions)==null?void 0:c.length)??0," permissions"]})]})]}),e.jsx("p",{className:"text-sm text-dark-300",children:s.description})]},s.name)})}),a==="users"&&e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"User Role Assignments"}),r!=null&&r.users?e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left text-dark-400 border-b border-dark-700",children:[e.jsx("th",{className:"pb-3 font-medium",children:"User"}),e.jsx("th",{className:"pb-3 font-medium",children:"Role"}),e.jsx("th",{className:"pb-3 font-medium",children:"Tenant"}),e.jsx("th",{className:"pb-3 font-medium",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-dark-700",children:r.users.map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"py-3 text-white",children:s.email}),e.jsx("td",{className:"py-3",children:e.jsx("span",{className:"badge badge-info",children:s.role})}),e.jsx("td",{className:"py-3 text-dark-300",children:s.tenant||"default"}),e.jsx("td",{className:"py-3",children:e.jsx("button",{className:"text-spider-400 text-sm hover:underline",children:"Edit"})})]},s.id))})]}):e.jsx("p",{className:"text-dark-400",children:"No users configured. Users are auto-provisioned via SSO or API key creation."})]}),a==="permissions"&&e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Available Permissions"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:((i==null?void 0:i.permissions)??[]).map(s=>e.jsx("span",{className:"badge badge-low",children:s},s))})]})]})}export{N as default};
//# sourceMappingURL=RBAC-BkRc-e3-.js.map
